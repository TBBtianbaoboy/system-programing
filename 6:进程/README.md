# 6 进程 
## 6.3 进程内存布局
- `代码段`: 只读，可共享
- `初始化数据段`: 包含显式初始化的全局变量和静态变量
- `未初始化数据段`: 也被称为BSS段，包含未初始化的全局变量和静态变量
- `堆段`: 运行时分配
- `共享段`: 映射共享内存，动态链接库
- `栈段`: 由栈帧组成，系统为每个当前调用的函数分配一个栈帧
- `AE段`: 存放argv参数和外部环境变量
- `内核空间`: 映射内核符号的地址，但程序无法访问
```sh
# 显示代码段，初始化数据段，未初始化数据段的大小（B）
size ELF 
```
- `ABI(应用程序二进制接口)`:一套规则，规定了二进制可执行文件在运行时应如何与内核或函数库提供的服务交换信息，使用哪些寄存器和
栈地址来交换信息以及所交换值的含义

## 6.5 栈和栈帧
- 栈向低地址增长
- 专用寄存器---栈指针，用于跟踪当前栈顶。
- 每次调用函数时，会在栈上新分配一帧，函数返回时，再从栈上将此帧移去
- `内核栈`: 每个进程保留在内核内存中的栈，在执行系统调用的过程中供内核函数使用

## 6.6 参数
- #include<unistd.h> getopt() 解析命令行参数

## 6.7 环境列表
- 每一个进程都有保存环境变量的字符串数组(简称为环境列表)
- 新进程在创建时，会继承父进程环境列表，之后各自独立
- #include<stdlib.h> getenv() 获取环境变量的值，setenv()修改环境变量，unsetenv()删除环境变量,clearenv() 清除从父进程继承来的环境列表
